# ChainIntel AI 工作流说明

本目录包含 ChainIntel AI 项目的 GitHub Actions 工作流配置文件。

## 主要工作流

### CI/CD 工作流 (ci.yml)

这是项目的主要 CI/CD 工作流，在以下情况下自动触发：

- 向 `main` 分支推送代码
- 创建针对 `main` 分支的 Pull Request

该工作流包含以下作业：

- **后端测试**：运行后端单元测试并生成覆盖率报告
- **前端测试**：运行前端单元测试和代码检查
- **构建**：构建后端和前端代码
- **部署**：将构建产物部署到生产环境（仅在推送到 `main` 分支时）

## 手动触发工作流

以下工作流需要手动触发，用于特定场景：

### 前端测试 (frontend-test.yml)

专门用于测试前端代码的工作流，可以在需要单独验证前端功能时使用。

### 最终测试 (final-test.yml)

用于在发布前进行最终验证的工作流。

### 紧急测试 (emergency-test.yml)

用于紧急情况下的快速测试，跳过大部分依赖安装和复杂测试步骤。

### 全新最小化测试 (fresh-minimal-test.yml)

在完全干净的环境中运行最小化测试，用于排除缓存和依赖问题。

### 系统诊断 (diagnostic.yml)

用于诊断系统问题的工作流，支持三种诊断级别：

- **basic**：基本诊断，显示环境信息和简单测试
- **advanced**：高级诊断，包括依赖安装和配置检查
- **emergency**：紧急诊断，执行所有可能的诊断步骤

## 自动触发测试 (auto-trigger.yml)

每周自动运行的测试工作流，用于确保项目在没有活跃开发的情况下仍然可以正常工作。

## 工作流最佳实践

1. **避免重复触发**：除了主 CI/CD 工作流外，其他工作流都设置为手动触发，以避免重复运行和资源浪费。

2. **使用缓存**：大多数工作流使用 GitHub Actions 的缓存功能来加速依赖安装。

3. **标准化配置**：所有工作流使用相同的 Node.js 版本和 Babel 配置。

4. **清晰的命名和图标**：使用表情符号和清晰的步骤名称，使工作流日志更易读。
